<!DOCTYPE html>
<html>
<head>
	<link rel="stylesheet" href="css/jquery.datetimepicker.css">
</head>
<body>
	<button data-bind="click: reset">Reset</button>
	<h1>Orders</h1>
	<table border=1>
		<thead>
			<tr><th>Customer</th><th>Machine</th><th>Tasks</th></tr>
		</thead>
		<tbody data-bind="foreach: orders">
			<tr>
				<td data-bind="text: machine().customer.name" />
				<td data-bind="text: machine().name" />
				<td>
					<table border=1>
						<thead>
							<tr><th>Part</th><th>Start Date</th><th>Start Time</th><th>End Date</th><th>End Time</th></tr>
						</thead>
						<tbody data-bind="foreach: tasks">
							<tr>
								<td data-bind="text: part" />
								<td data-bind="text: moment(start).format('DD.MM.YYYY')" />
								<td data-bind="text: moment(start).format('HH:mm:ss')" />
								<td data-bind="text: moment(end).format('DD.MM.YYYY')" />
								<td data-bind="text: moment(end).format('HH:mm:ss')" />
							</tr>
						</tbody>
					</table>
				</td>
			</tr>
		</tbody>
	</table>
	<!--
	EDIT TEMPLATE
	<table>
			<tr>
				<td><select data-bind="options: $root.customers, value: customer, optionsText: 'name'"></select></td>
				<td><select data-bind="options: $data.customer().machines, value: machine, optionsText: 'name'"></select></td>
				<td data-bind="with: $data">
					
					<table>
						<thead>
							<tr><th>Part</th><th>Start Date</th><th>Start Time</th><th>End Date</th><th>End Time</th></tr>
						</thead>
						<tbody data-bind="foreach: tasks">
							<tr>
								<td><input data-bind="value: part" /></td>
								<td><input data-bind="datePicker: startDate, params: { timepicker: false, format:'d.m.Y' }" readonly/></td>
								<td><input data-bind="datePicker: startTime, params: { datepicker: false, format:'H:i' }" readonly/></td>
								<td><input data-bind="datePicker: endDate, params: { timepicker: false, format:'d.m.Y' }" readonly/></td>
								<td><input data-bind="datePicker: endTime, params: { datepicker: false, format:'H:i' }" readonly/></td>
							</tr>
						</tbody>
					</table>
					<button data-bind="click: addTask">add Task</button>
					
				</td>
			</tr>
		</tbody>
	</table>
	-->
	<button data-bind="click: addOrder">add Order</button>
	
	<script type="text/javascript" src="js/lib/jquery-2.1.4.min.js"></script>
	<script type="text/javascript" src="js/lib/jquery.datetimepicker.full.min.js"></script>
	<script type="text/javascript" src="js/lib/knockout-3.3.0.debug.js"></script>
	<script type="text/javascript" src="js/lib/jaydata.js"></script>
	<script type="text/javascript" src="js/lib/jaydatamodules/knockout.js"></script>
	<script type="text/javascript" src="js/lib/jaydataproviders/SqLiteProvider.js"></script>
	<script type="text/javascript" src="js/lib/moment.js"></script>
	<script type="text/javascript" src="js/data.js"></script>
	<script type="text/javascript" src="js/model.js"></script>
</body>
</html>